# ASP.NET Core
# Build and test ASP.NET Core projects targeting .NET Core.
# Add steps that run tests, create a NuGet package, deploy, and more:
# https://docs.microsoft.com/azure/devops/pipelines/languages/dotnet-core


# jobs:
# - job: Windows
#   pool:
#     vmImage: 'vs2017-win2016'
#   steps:
#   - script: echo hello from Windows
# - job: macOS
#   pool:
#     vmImage: 'macOS-10.13'
#   steps:
#   - script: echo hello from macOS
# - job: Linux
#   pool:
#     vmImage: 'ubuntu-16.04'
#   steps:
#   - script: echo hello from Windows

jobs:
- job: A
  steps:
  - script: exit 1

- job: B
  dependsOn: A
  condition: failed()
  steps:
  - script: echo this will run when A fails

- job: C
  dependsOn:
  - A
  - B
  condition: succeeded('B')
  steps:
  - script: echo this will run when B runs and succeeds

- job: test
  timeoutInMinutes: 10
  cancelTimeoutInMinutes: 2